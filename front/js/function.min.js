function majUnCanap(leCanap,indexDataId){const leParent=document.getElementById("cart__items"),leTemplate=document.getElementById("template");let leClone=document.importNode(leTemplate.content,!0);leClone.getElementById("ImgProduit").setAttribute("src",`${leCanap.img}`),leClone.getElementById("ImgProduit").setAttribute("alt",`${leCanap.imgalt}`),replaceIdByClass(leClone,"ImgProduit","ImgProduit"),leClone.getElementById("NomProduit").textContent=`${leCanap.name}`,replaceIdByClass(leClone,"NomProduit","NomProduit"),leClone.getElementById("CouleurProduit").textContent=`Couleur : ${leCanap.color}`,replaceIdByClass(leClone,"CouleurProduit","CouleurProduit"),leClone.getElementById("QtyProduit").innerHTML=`<label for="itemQuantity${indexDataId}">qté : ${leCanap.qty}</label>`,replaceIdByClass(leClone,"QtyProduit","QtyProduit"),leClone.getElementById("PrixProduit").textContent=`Prix : ${leCanap.price} €`,replaceIdByClass(leClone,"PrixProduit","PrixProduit"),leClone.getElementById("QtyProduitInput").setAttribute("value",`${leCanap.qty}`),leClone.getElementById("QtyProduitInput").setAttribute("name",`itemQuantity${indexDataId}`),leClone.getElementById("QtyProduitInput").removeAttribute("id"),leClone.querySelector(".cart__item").setAttribute("data-id",`${indexDataId}`),leClone.querySelector(".deleteItem").setAttribute("data-id",`${indexDataId}`),leClone.querySelector(".itemQuantity").setAttribute("data-id",`${indexDataId}`),leClone.querySelector(".QtyProduit").setAttribute("data-id",`${indexDataId}`),leParent.appendChild(leClone)}function replaceIdByClass(docHtml,theId,theClass){let element=docHtml.getElementById(theId);element.setAttribute("class",theClass),element.removeAttribute("id")}function deleteCanap(indexPanier){let lesCanaps=lectureLocalstorage();lesCanaps.splice(indexPanier,1),sauvegardeDansLocalstorage(lesCanaps);let lesArticles=document.querySelectorAll(".cart__item");for(unArticle of lesArticles)unArticle.getAttribute("data-id")==indexPanier&&unArticle.remove();majInfosTotalPanier()}function modificationQty(indexPanier,newQty){console.log("modifQty "+indexPanier+" "+newQty);let lesCanaps=lectureLocalstorage();lesCanaps[indexPanier].qty=newQty,sauvegardeDansLocalstorage(lesCanaps);let panier=document.querySelectorAll(".QtyProduit");for(article of panier)article.getAttribute("data-id")==indexPanier&&(article.textContent=`qté : ${newQty}`);majInfosTotalPanier()}function majInfosTotalPanier(){let panierTotal={prixTotal:0,qtyTotal:0},lesCanaps=lectureLocalstorage();for(unCanap of lesCanaps)panierTotal.qtyTotal=parseInt(`${unCanap.qty}`),panierTotal.prixTotal+=parseInt(`${unCanap.price}`)*panierTotal.qtyTotal;document.getElementById("totalQuantity").innerText=panierTotal.qtyTotal,document.getElementById("totalPrice").innerText=panierTotal.prixTotal}function lectureLocalstorage(){return JSON.parse(localStorage.getItem("selectionCanap"))}function sauvegardeDansLocalstorage(element){localStorage.setItem("selectionCanap",JSON.stringify(element))}